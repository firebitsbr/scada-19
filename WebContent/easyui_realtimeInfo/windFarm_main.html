<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
  <head>
 	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    
    <title></title>
    
	<!-- easyUI -->
	<link href="../jquery-easyui-1.4.4/themes/bootstrap/easyui.css" rel="stylesheet">
	<link href="../jquery-easyui-1.4.4/themes/icon.css" rel="stylesheet">
	
	<style type="text/css">
		* {margin: 0; border: 0;}
		
		/* Border styles */
		.table-3 thead, .table-3 tr {
		border-top-width: 1px;
		border-top-style: solid;
		border-top-color: rgb(235, 242, 224);
		height:12px;
		}
		.table-3 {
		border-bottom-width: 1px;
		border-bottom-style: solid;
		border-bottom-color: rgb(235, 242, 224);
		}
		
		/* Padding and font style */
		.table-3 td, .table-3 th {
		padding: 5px 10px;
		font-size: 8px;
		font-family: Verdana;
		color: rgb(149, 170, 109);
		
		}
		
		/* Alternating background colors */
		.table-3 tr:nth-child(even) {
		background: rgb(230, 238, 214)
		}
		.table-3 tr:nth-child(odd) {
		background: #FFF
		}
		
		.ft8 em {
			display: inline-block;
			width: 10px;
			height: 10px;
			-webkit-transform: scale(0.5,0.5);
		}
		
	</style>

</head>
<body style="overflow: hidden" >
<!-- 
	<div id='dspBox1' class='dspBox easyui-layout' title='My Panel' style="height:150px;width:300px;">
		<div id='fun1' class='fun' data-options="region:'west'" style="height:150px;width:150px">
			<img id='yepian1' class='yepian' src='../pic/yepian.png' alt='' >
			<img id='tatong1' class='tatong' src='../pic/tatong.png' alt='' > 
		</div>
		<div data-options="region:'center'" style="overflow:hidden;height:150px;width:150px">
			<ul id='dataBox' class='dataBox easyui-datalist' style="height:150px;width:150px" data-options="scrollbarSize:0">
				<li value='AL'>Alabama</li> 
				<li value='AK'>Alaska</li>
				<li value='AZ'>Arizona</li>
			</ul>
		</div>
	</div>
	 -->
	 <div id="funData" class='fundata'></div>
	 	 <div id="funData1" class='fundata'></div>
	<div id='funs' >
    </div>
    
	<div id="menu" class="easyui-menu" style="width:120px;" hideOnUnhover="false">   
	    <div id="1" data-options="iconCls:'icon-start'">启动</div>   
	    <div id="2" data-options="iconCls:'icon-stop'">停机</div>   
	    <div id="3" data-options="iconCls:'icon-service'">维护</div>   
	    <div id="4" data-options="iconCls:'icon-reset'">复位</div>   
	    <div class="menu-sep"></div>   
	    <!-- <div id="5">偏航</div>  -->
	</div>  
	
	<div id="window" class="easyui-window" title="偏航控制" style="width:600px;height:400px"
		 data-options="modal:true" closed="true" >
	</div>
	
	<form id="form" action="" method="post" style="display: none;">
		<input type="text" name="fun.id" value="" />
		<input type="text" name="fun.name" value="" />
		<input type="text" name="fun.address" value="" />
		<input type="hidden" name="fun.windFarm.id" value="1" />
	</form>
	
	
	<!-- jQuery (necessary for Bootstrap's JavaScript plugins) --> 
	<script src="../jquery-easyui-1.4.4/jquery.min.js" charset="utf-8"></script>
	
	<!-- easyUI -->
	<script src="../jquery-easyui-1.4.4/jquery.easyui.min.js" charset="utf-8"></script>
	<script src="../jquery-easyui-1.4.4/locale/easyui-lang-zh_CN.js" charset="utf-8"></script>
	
	<!-- velocity js动画框架 -->
	<script src="../js/velocity.min.js" charset="utf-8"></script>
	<script src="../js/velocity.ui.min.js" charset="utf-8"></script>
	<!--  --> 
	<script src="fun.js" charset="utf-8"></script>
	
	<script type="text/javascript">
		$(function(){
			//$('.dspBox').velocity({rotateZ:'360deg'},{ duration:5000,loop:true,easing:'linear'});
			$('.fundata').fundata();
			$(window).resize(function(){
				$.post('SHARPOWER_SCADA/ajaxMainInfo',{},function(data){
					
				},'json');
			})

			$.post('SHARPOWER_SCADA/ajaxMainInfo',{},function(data){

				for(var i in data){
					
				}
			},'json');
 		
			$('#menu').menu({
				onClick:function(item){
					var selectRow = $('#datagrid').datagrid('getSelected');
					
					switch(item.id){
					case '1':
						if(selectRow!=null){
							$('#form').form('load',{
								'fun.id': selectRow.fun.id,
								'fun.name' : selectRow.fun.name,
								'fun.address': selectRow.fun.address
							});
							
							$('#form').form('submit', {
								url:'SHARPOWER_SCADA/ajaxFunControlRun',
								success: function(info){
									info = eval("("+info+")");
									$.messager.show({title:'我的消息',msg:info,showType:'slide'});
								}
							});
						}
						
						break;
					case '2':
						if(selectRow!=null){
							$('#form').form('load',{
								'fun.id': selectRow.fun.id,
								'fun.name' : selectRow.fun.name,
								'fun.address': selectRow.fun.address
							});
							
							$('#form').form('submit', {
								url:'SHARPOWER_SCADA/ajaxFunControlStop',
								success: function(info){
									info = eval("("+info+")");
									$.messager.show({title:'我的消息',msg:info,showType:'slide'});
								}
							});
						}
						
						break;
					case '3':
						if(selectRow!=null){
							$('#form').form('load',{
								'fun.id': selectRow.fun.id,
								'fun.name' : selectRow.fun.name,
								'fun.address': selectRow.fun.address
							});
							
							$('#form').form('submit', {
								url:'SHARPOWER_SCADA/ajaxFunControlService',
								success: function(info){
									info = eval("("+info+")");
									$.messager.show({title:'我的消息',msg:info,showType:'slide'});
								}
							});
						}
						
						break;
					case '4':
						if(selectRow!=null){
							$('#form').form('load',{
								'fun.id': selectRow.fun.id,
								'fun.name' : selectRow.fun.name,
								'fun.address': selectRow.fun.address
							});
							
							$('#form').form('submit', {
								url:'SHARPOWER_SCADA/ajaxFunControlReset',
								success: function(info){
									info = eval("("+info+")");
									$.messager.show({title:'我的消息',msg:info,showType:'slide'});
								}
							});
						}
						
						break;						
					case '5':
						$('#window').window('open');
						break;
					}
				}
			})
			
			setInterval(function(){
		    	$('#datagrid').datagrid('load')}, 
		    	1000
			);
		})
	</script>
	
</body>

</html>